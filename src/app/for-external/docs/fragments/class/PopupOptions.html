
<h2>PopupOptions</h2>

<p>起始版本：v1.0.0</p>
<p>用于控制弹出视图的各种参数，包括是否模态、弹出位置、视图尺寸、弹出动画等等，<a href="#/components/api/injectable/PopupService" target="_self"><code>PopupService</code></a>能够覆盖所有弹出场景，
很大程度上得益于这个参数的强大扩展性，熟悉这个参数的各个属性对是否能够用好<a href="#/components/api/injectable/PopupService" target="_self"><code>PopupService</code></a>有着决定性的影响。</p>
<p><a href="">这个demo</a>详细的说明了如何使用这个对象。</p>


<a name="properties"></a>
<h3>普通属性 / Properties</h3>

<table id="dynamicProperties" style="width:100%; display:table">
                 <thead><tr><th>名称</th><th>类型</th><th>说明</th><th>默认值</th><th>示例</th></tr></thead>
                <tbody><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="borderColor">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>borderColor</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a></td>
            <td><p>borderRadius表示弹框的边框颜色</p>
</td><td></td><td></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="borderRadius">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>borderRadius</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a> | <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a></td>
            <td><p>borderRadius表示弹框的边框圆角</p>
</td><td></td><td></td></tr><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="borderType">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>borderType</td><td>"default" | "pointer"</td>
            <td><p>pointer表示弹出的模块带指向的三角</p>
</td><td></td><td></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="disposeOnRouterChanged">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>disposeOnRouterChanged</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a></td>
            <td><p>当应用页面的路由改变了的时候，自动销毁弹出的组件。当弹出的视图只归属于某个路由状态的时候，
这个功能会很有用，在路由变化之后，你无需手工销毁这些弹出的视图。</p>
<p>但凡事都有两面性，当你弹出的视图在全局下都有意义时，请注意务必关闭这个功能。
这样的场景比如通知类的对话框（alert或者notification），他们弹出后，就需要等待用户关闭，不应该自动关闭。</p>
</td><td>true</td><td></td></tr><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="hideEffect">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>hideEffect</td><td><a href="#/components/api/enum/PopupEffect" target="_self">PopupEffect</a></td>
            <td><p>隐藏的动效，fadeIn/fadeOut，wipeIn/wipeOut</p>
</td><td>PopupEffect.fadeOut</td><td></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="modal">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>modal</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a></td>
            <td><p>控制弹出的视图是否模态。</p>
</td><td></td><td></td></tr><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="pos">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>pos</td><td><a href="#/components/api/typealias/PopupPosition" target="_self">PopupPosition</a></td>
            <td><p>控制弹出对象的相对位置，可以是相对一个点(<a href="#/components/api/class/PopupPoint" target="_self"><code>PopupPoint</code></a>)，也可以相对一个组件或者dom元素，支持如下类型：</p>
<ul>
<li><a href="#/components/api/class/PopupPoint" target="_self"><code>PopupPoint</code></a>类型：控制弹出视图的左上角位置，一般常常用于弹出上下文菜单，通过鼠标的事件（click/hover）等得到鼠标事件，
从事件对象中提取出位置信息传过来，从而让视图出现在鼠标的附近，配合<a href="#/components/api/class/PopupOptions#posOffset" target="_self"><code>posOffset</code></a>属性可以进一步修正位置，避免遮挡到其他重要视图。</li>
<li><a href="https://angular.io/api/core/ElementRef" target="_blank"><code>ElementRef</code></a>和<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement" target="_blank"><code>HTMLElement</code></a>类型：相对某个已知UI元素的位置，不配置偏移的话，弹出视图的左上角会和给定的UI元素的左上角位置重合。
<a href="https://github.com/rdkmaster/jigsaw" title="请帮忙到GitHub上点个星星，更多的星星可以吸引越多的人加入我们。">Jigsaw</a>会自动计算出给定元素的位置，并将弹出视图移动到该位置上。一般需要配合<a href="#/components/api/class/PopupOptions#posOffset" target="_self"><code>posOffset</code></a>属性一起调整弹出位置，
避免遮挡到给定的UI元素。这个方式在实现一些下拉功能的时候会非常有用。</li>
<li>也可以是 &#39;top&#39; | &#39;left&#39; | &#39;right&#39; | &#39;bottom&#39; | &#39;leftTop&#39; | &#39;leftBottom&#39; | &#39;rightTop&#39; | &#39;rightBottom&#39;
 中的某一个值，用来控制弹出视图的绝对位置，
配合posOffset属性中的top/right/left/bottom，可以指定绝对位置的偏移量</li>
</ul>
<p>请参考 <a href="">这个demo</a> 和<a href="">这个demo</a>。</p>
</td><td></td><td><ul><li title=""><a onclick="document.getElementById('panel').style.display = 'block';
            const evalator = document.getElementById('evalator');
            if (evalator.src != location.host + 'jigsaw-demo/#/pc/dialog/popup-option') evalator.src = 'jigsaw-demo/#/pc/dialog/popup-option';">popup-option</a></li><li title=""><a onclick="document.getElementById('panel').style.display = 'block';
            const evalator = document.getElementById('evalator');
            if (evalator.src != location.host + 'jigsaw-demo/#/pc/dialog/absolute-position') evalator.src = 'jigsaw-demo/#/pc/dialog/absolute-position';">absolute-position</a></li></li></ul></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="posOffset">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>posOffset</td><td><a href="#/components/api/class/PopupPositionOffset" target="_self">PopupPositionOffset</a></td>
            <td><p>弹出位置的偏移量，注意left属性是以弹出组件的左侧为基准，top属性是以弹出组件的上方为基准，
right属性是以弹出组件的右侧为基准，bottom是以弹出组件的下方为基准点。</p>
<p>请参考<a href="">这个demo</a>。</p>
</td><td></td><td><ul><li title=""><a onclick="document.getElementById('panel').style.display = 'block';
            const evalator = document.getElementById('evalator');
            if (evalator.src != location.host + 'jigsaw-demo/#/pc/dialog/popup-option') evalator.src = 'jigsaw-demo/#/pc/dialog/popup-option';">popup-option</a></li></li></ul></td></tr><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="posReviser">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>posReviser</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank">function</a></td>
            <td><p>弹出位置修正函数，在PopupService自动计算的位置无法满足需要的时候，可以通过它来修正，在一些需要精确定位的场景非常有用，函数的定义如下：</p>
<pre class="line-numbers"><code class="language-none">(pos: PopupPositionValue, popupElement: HTMLElement) =&gt; PopupPositionValue</code></pre></td><td></td><td></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="posType">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>posType</td><td><a href="#/components/api/enum/PopupPositionType" target="_self">PopupPositionType</a></td>
            <td><p>弹出的组件的定位方式，和css的 absolute/fixed 含义类似。</p>
<p>请参考<a href="">这个demo</a>。</p>
</td><td></td><td><ul><li title=""><a onclick="document.getElementById('panel').style.display = 'block';
            const evalator = document.getElementById('evalator');
            if (evalator.src != location.host + 'jigsaw-demo/#/pc/dialog/popup-option') evalator.src = 'jigsaw-demo/#/pc/dialog/popup-option';">popup-option</a></li></li></ul></td></tr><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="shadowType">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>shadowType</td><td>"inline" | "default" | "dialog" | "alert"</td>
            <td><p>阴影深度（基于altitude），默认为default</p>
<ul>
<li>inline: 适用于页面内联元素，比如页内卡片</li>
<li>default: 适用于Tooltip、浮动按钮、卡片hover、popover、抽屉、下拉框、级联框 、datepicker等悬浮类视图弹出场景</li>
<li>dialog: 适用于及时消息、模态弹框等对话框场景</li>
<li>alert: 适用于警示框等重要对话框场景</li>
</ul>
</td><td>'default'</td><td></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="showBorder">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>showBorder</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a></td>
            <td><p>是否要自动给弹出视图加上边框。默认<a href="#/components/api/injectable/PopupService" target="_self"><code>PopupService</code></a>会检测弹出的视图是否有边框，如果有则不加，如果没有则自动加上边框和阴影。
设置了true/false之后，则<a href="#/components/api/injectable/PopupService" target="_self"><code>PopupService</code></a>不再自动检测，而是根据这个属性的值决定是否要还是不加边框&amp;阴影。</p>
</td><td></td><td></td></tr><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="showEffect">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>showEffect</td><td><a href="#/components/api/enum/PopupEffect" target="_self">PopupEffect</a></td>
            <td><p>弹出的动效，fadeIn/fadeOut，wipeIn/wipeOut</p>
</td><td>PopupEffect.fadeIn</td><td></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="showShadow">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>showShadow</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a></td>
            <td><p>是否自动给弹出视图添加 <code>box-shadow: 1px 1px 6px rgba(0, 0, 0, .2)</code> 的样式，为false则不加，默认会加上</p>
</td><td>true</td><td></td></tr><tr style="display:table-row; background-color:#fff"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="size">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>size</td><td><a href="#/components/api/class/PopupSize" target="_self">PopupSize</a></td>
            <td><p>弹出组件的尺寸，多数组件在定义的时候，认为其尺寸是来自于父级元素，特别是组件的宽度更是如此，
这个组件在弹出来的时候，父级元素的宽度和高度都是100%，这会让自己占满整个屏幕，非常难看。
在这个场景下就可以通过这个属性设置组件在弹出状态下的尺寸。
如果你的组件在实现的时候就给定了尺寸或者最大尺寸，则无需设置这个属性。</p>
</td><td></td><td></td></tr><tr style="display:table-row; background-color:#f8f8f8"><td style="white-space: nowrap;"><a style="position:relative;top:-10px;left:-16px;text-decoration:none;cursor:default;" name="useCustomizedBackground">&nbsp;</a><span class="fa fa-unlock" style="color: green; margin-right: 4px" title="Public"></span>useCustomizedBackground</td><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a></td>
            <td><p>popupService会默认给弹框设置一个背景（除了默认皮肤），用来适配皮肤的风格，如果用户使用了自定义的背景，请设置这个属性为<code>true</code></p>
</td><td></td><td></td></tr></tbody>
            </table>

<a name="methods"></a>
<h3>方法 / Methods</h3>

<p>无</p>



<a name="demos"></a><h3>相关示例</h3><ul><li title=""><a onclick="document.getElementById('panel').style.display = 'block';
            const evalator = document.getElementById('evalator');
            if (evalator.src != location.host + 'jigsaw-demo/#/pc/dialog/popup-option') evalator.src = 'jigsaw-demo/#/pc/dialog/popup-option';">popup-option</a></li></li></ul>

<a name="object-oriented"></a>
<h3>面向对象 / Object Oriented</h3>
<ul><li>继承关系 --</li><li>实现接口 --</li><li>已知子类 --</li></ul>

<div id="panel" class="api-panel">
    <div class="box">
        <span class="close" title="返回"
              onclick="document.getElementById('panel').style.display = 'none';">&times;</span>
        <iframe id="evalator"></iframe>
    </div>
</div>

<a name="footer"></a>
<div class="api-footer-wrapper">
    <div class="col">
        <h3>资源</h3>
        <ul>
            <li><a href="https://zhuanlan.zhihu.com/jigsaw" target="_blank">知乎专栏</a></li>
            <li><a href="https://github.com/rdkmaster/j-lunker"
                    target="_blank" title="属于你自己的在线代码运行服务器">J-lunker</a></li>
            <li><a href="https://github.com/rdkmaster/jigsaw-seed" target="_blank"
                    title="Jigsaw应用的种子工程，请让它到处生根发芽吧！">Jigsaw Seed</a></li>
            <li><a href="https://github.com/rdkmaster/jigsaw-tourist" target="_blank"
                    title="一个简单示例工程，新手宝典">Jigsaw Tourist</a></li>

            <li class="splitter"><a href="http://ngfans.net" target="_blank">Angular开发者</a></li>
            <li><a onclick="document.getElementById('panel').style.display = 'block';
            const evalator = document.getElementById('evalator');
            if (evalator.src != location.host + 'jigsaw-demo/#/pc/doc/wechat-public-subscription.html') evalator.src = 'jigsaw-demo/#/pc/doc/wechat-public-subscription.html';" title="及时了解Jigsaw的动态、新特性、技术分享">Jigsaw微信公众号</a></li>

            <li class="splitter"><a href="https://angular.cn" target="_blank">Angular中文</a></li>
            <li><a href="https://angular.io" target="_blank">Angular官网</a></li>
            <li><a href="https://blog.angular.io" target="_blank">Angular官博</a></li>
        </ul>
    </div>
    <div class="col">
        <h3>社区</h3>
        <ul>
            <li><a href="https://github.com/rdkmaster/jigsaw" target="_blank"
                title="请跳过去随手帮忙点个星星，越多的星星可以吸引越多的人加入我们">代码托管 / Github</a></li>
            <li><a href="https://github.com/rdkmaster/jigsaw/issues/new" target="_blank">报告BUG / 提需求</a></li>
            <li><a href="https://github.com/rdkmaster/jigsaw/blob/master/src/jigsaw/common/service/popup.service.ts#L32" target="_blank"
                title="在GitHub上直接编辑这篇文档以帮助我们改进它">改进这篇文档</a></li>
            <li class="splitter"><a href="https://github.com/rdkmaster/rdk" target="_blank">RDK服务端</a></li>
            <li><a href="http://10.9.233.68:9953/webgis/default/index.html" target="_blank"
                title="仅限中兴内部访问">Web GIS</a></li>
        </ul>
    </div>
    <div class="col">
        <h3>帮助</h3>
        <ul>
            <li><a href="http://ngfans.net" target="_blank">在线提问 / 寻求帮助</a></li>
            <li><a onclick="document.getElementById('panel').style.display = 'block';
            const evalator = document.getElementById('evalator');
            if (evalator.src != location.host + 'jigsaw-demo/#/pc/doc/wechat-group.html') evalator.src = 'jigsaw-demo/#/pc/doc/wechat-group.html';" title="和我们的开发者/使用者面对面交流">Jigsaw微信群提问</a></li>
            <li><a href="mailto:chen.xu8@zte.com.cn" target="_blank">直接联系我们</a></li>
            <li class="splitter"><a href="#/components/guide/quick-start" target="_self">零基础起航</a></li>
        </ul>
    </div>
</div>
