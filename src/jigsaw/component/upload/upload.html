<j-box class="jigsaw-upload-select-box" [class.jigsaw-upload-select-box-small]="_$uploadMode == 'selectAndList'"
       type="flex" justify="center" align="center" width="100%"
       [direction]="_$uploadMode == 'selectAndList' ? 'h' : 'v'"
       [height]="_$uploadMode == 'selectAndList' ? '30%' : '100%'"
       jigsaw-droppable (jigsawDragEnter)="_$fileDragEnterHandle($event)"
       (jigsawDragOver)="_$fileDragOverHandle($event)"
       (jigsawDragLeave)="_$fileDragLeaveHandle($event)" (jigsawDrop)="_$fileDropHandle($event)">
    <span class="jigsaw-upload-icon fa fa-upload"></span>
    <div class="jigsaw-upload-select-right">
        <p class="jigsaw-upload-prompt">将文件拖拽到此处上传</p>
        <j-button (click)="_$selectFile($event)">选择文件</j-button>
    </div>
    <input #fileInput class="jigsaw-upload-file-input" type='file' [accept]="fileType"
           [multiple]="multiple">
</j-box>

<div *ngIf="_$uploadMode == 'selectAndList'" class="jigsaw-upload-file-list-container">
    <ul class="jigsaw-upload-file-list" [perfectScrollbar]="{wheelSpeed: 0.5, minScrollbarLength: 20}">
        <li *ngFor="let file of _$fileInfoList" class="jigsaw-upload-file">
            <div class="jigsaw-upload-file-left">
                <span class="jigsaw-upload-icon-small fa fa-file"></span>
                <span class="jigsaw-upload-file-name" title="{{file.name}}">{{file.name}}</span>
            </div>
            <div [ngSwitch]="file.state" class="jigsaw-upload-file-right">
                <ng-container *ngSwitchCase="'pause'">
                    <span>等待中</span>
                    <span class="jigsaw-upload-pause fa fa-pause-circle"></span>
                </ng-container>
                <ng-container *ngSwitchCase="'loading'">
                    <span>上传中</span>
                    <span class="jigsaw-upload-loading iconfont iconfont-e8dd jigsaw-am-rotation"></span>
                </ng-container>
                <ng-container *ngSwitchCase="'success'">
                    <span>上传成功</span>
                    <span class="jigsaw-upload-success fa fa-check-circle"></span>
                </ng-container>
                <ng-container *ngSwitchCase="'error'">
                    <span>上传失败</span>
                    <span class="jigsaw-upload-error fa fa-times-circle"></span>
                </ng-container>
            </div>
        </li>
    </ul>
</div>
